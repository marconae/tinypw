# tinypw

![CI](https://github.com/marconae/tinypw/actions/workflows/ci.yml/badge.svg) [![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=marconae_tinypw&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=marconae_tinypw) [![Coverage](https://sonarcloud.io/api/project_badges/measure?project=marconae_tinypw&metric=coverage)](https://sonarcloud.io/summary/new_code?id=marconae_tinypw)

A tiny, fast CLI tool to generate random passwords.

## Motivation

I wanted to learn Rust. Additionally, I often need to quickly generate passwords, and since I usually work in a
terminal, a CLI tool is highly convenient.

## Usage

Default behaviour:

```
> tinypw
Password: GLkuLb(RsK55Y(Y8
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  63.7% good ðŸ™‚ (57.36 bits entropy)
```

Set the length with `tinypw -l 20`:

```
> tinypw -l 20
Password: Fphb5nCbg6XZscn$5zD*
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘]  90.8% strong ðŸ˜Ž (81.75 bits entropy)
```

Define the character set with `-m <mode>` where mode is a combination of letters:

- `u` = include uppercase `Aâ€“Z`
- `l` = include lowercase `aâ€“z`
- `n` = include digits `0â€“9`
- `s` = include symbols `!#$&()*+/`
- `e` = exclude similar-looking characters: `i l 1 o 0 O`

Example: just lowercase letters and numbers:

```
> tinypw -l 20 -m ln
Password: hzdtx57jj2horb0x8dqh
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]  86.8% strong ðŸ˜Ž (78.14 bits entropy)
```

Add extra characters with `-x <extra_chars>`.

Example: length 20, use uppercase, lowercase and numbers and also include `;:?!"'`

```
> tinypw -l 20 -m uln -x ";:?\!\"'"
Password: wlw7qp!9fEnataRS7ap:
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘]  86.8% strong ðŸ˜Ž
```

Copy to clipboard with `-c`:

```
> tinypw -c
Password: HLCY2vvsanaQurdG
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  67.7% strong ðŸ˜Ž (60.92 bits entropy)
Password copied to clipboard.
```

## Planned for the future

* Support to generate multiple passwords?
* Support for quiet mode and just return the password?

## Defaults

- Length: 16
- Mode: `ulnse` (upper, lower, numbers, symbols; exclude similar)
- Similar-looking characters excluded set: `il1o0O`
- Symbols used: `!#$&()*+/`

## Install

- With Rust installed: clone this repository and run `cargo build --release`.
- Optional: add to PATH: copy `target/release/tinypw` somewhere on your PATH.
- From source without a release profile: `cargo run --` followed by options shown below.

## How it works (brief)

- The CLI parses flags using the `clap` crate.
- It builds a base character set from your chosen mode, optionally excluding similar characters and adding extra chars.
- A password is generated by sampling uniformly at random from that base set for the chosen length using crate `rand`.

## License

- MIT. [See LICENSE](LICENSE).
